      
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>投流保本ROI计算器</title>
  <!-- 引入Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- 引入Font Awesome -->
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  
  <!-- 配置Tailwind自定义主题 -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#3b82f6',
            secondary: '#10b981',
            accent: '#6366f1',
            neutral: '#f3f4f6',
            dark: '#1f2937'
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      .card-shadow {
        box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05), 0 8px 10px -6px rgba(0, 0, 0, 0.02);
      }
      .input-focus {
        @apply focus:ring-2 focus:ring-primary/50 focus:border-primary focus:outline-none;
      }
      .btn-hover {
        @apply hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300;
      }
      .highlight {
        @apply bg-yellow-50 border-yellow-200;
      }
    }
  </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-50 min-h-screen font-sans text-dark">
  <!-- 页面容器 -->
  <div class="container mx-auto px-4 py-8 max-w-5xl">
    <!-- 标题区域 -->
    <header class="text-center mb-10">
      <h1 class="text-[clamp(1.8rem,5vw,3rem)] font-bold text-dark mb-3 bg-clip-text text-transparent bg-gradient-to-r from-primary to-accent">
        投流保本ROI计算器
      </h1>
      <p class="text-gray-600 max-w-2xl mx-auto">
        快速计算包含退货率和平台手续费的投流保本ROI，助您精准把控营销成本与收益平衡点
      </p>
    </header>
    
    <!-- 主要内容区 -->
    <main class="grid md:grid-cols-5 gap-8">
      <!-- 输入表单卡片 -->
      <div class="md:col-span-3 bg-white rounded-2xl p-6 card-shadow">
        <h2 class="text-xl font-semibold mb-5 flex items-center">
          <i class="fa fa-calculator text-primary mr-2"></i>输入参数
        </h2>
        
        <form id="roi-calculator" class="space-y-5">
          <!-- 原价 -->
          <div class="space-y-2">
            <label for="original-price" class="block text-sm font-medium text-gray-700">
              原价 (元)
            </label>
            <div class="relative">
              <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                <i class="fa fa-rmb"></i>
              </span>
              <input 
                type="number" 
                id="original-price" 
                class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all"
                placeholder="例如：400"
                min="0" 
                step="0.01"
                required
              >
            </div>
          </div>
          
          <!-- 倍率 -->
          <div class="space-y-2">
            <label for="multiplier" class="block text-sm font-medium text-gray-700">
              倍率
            </label>
            <div class="relative">
              <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                <i class="fa fa-magic"></i>
              </span>
              <input 
                type="number" 
                id="multiplier" 
                class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all bg-gray-50"
                placeholder="自动计算"
                step="0.1"
                readonly
              >
            </div>
          </div>
          
          <!-- 采购价（计算结果） -->
          <div class="space-y-2">
            <label for="purchase-price" class="block text-sm font-medium text-gray-700">
              采购价 (原价/倍率)
            </label>
            <div class="relative">
              <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                <i class="fa fa-shopping-cart"></i>
              </span>
              <input 
                type="number" 
                id="purchase-price" 
                class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all bg-gray-50 highlight"
                placeholder="自动计算"
                step="0.01"
                
              >
            </div>
          </div>
          
          <!-- 折扣 -->
          <div class="space-y-2">
            <label for="discount" class="block text-sm font-medium text-gray-700">
              折扣 (%)
            </label>
            <div class="relative">
              <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                <i class="fa fa-percent"></i>
              </span>
              <input 
                type="number" 
                id="discount" 
                class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all"
                placeholder="例如：50（表示5折）"
                min="0" 
                max="100"
                step="0.01"
                required
              >
              <span class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500">
                %
              </span>
            </div>
          </div>
          
          <!-- 产品售价（自动计算：原价×折扣） -->
          <div class="space-y-2">
            <label for="selling-price" class="block text-sm font-medium text-gray-700">
              产品售价 (原价×折扣)
            </label>
            <div class="relative">
              <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                <i class="fa fa-tag"></i>
              </span>
              <input 
                type="number" 
                id="selling-price" 
                class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all bg-gray-50 highlight"
                placeholder="自动计算"
                step="0.01"
                readonly
              >
            </div>
          </div>
          
          <!-- 退货率 -->
          <div class="space-y-2">
            <label for="return-rate" class="block text-sm font-medium text-gray-700">
              退货率 (%)
            </label>
            <div class="relative">
              <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                <i class="fa fa-undo"></i>
              </span>
              <input 
                type="number" 
                id="return-rate" 
                class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all"
                placeholder="例如：10"
                min="0" 
                max="100"
                step="0.01"
                required
              >
              <span class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500">
                %
              </span>
            </div>
          </div>
          
          <!-- 平台手续费率 -->
          <div class="space-y-2">
            <label for="fee-rate" class="block text-sm font-medium text-gray-700">
              平台手续费率 (%)
            </label>
            <div class="relative">
              <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                <i class="fa fa-percent"></i>
              </span>
              <input 
                type="number" 
                id="fee-rate" 
                class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all"
                placeholder="例如：5"
                min="0" 
                max="100"
                step="0.01"
                required
              >
              <span class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500">
                %
              </span>
            </div>
          </div>
          
          <!-- 计算按钮 -->
          <button 
            type="submit" 
            class="w-full bg-primary hover:bg-primary/90 text-white font-medium py-3 px-4 rounded-lg btn-hover flex items-center justify-center"
          >
            <i class="fa fa-calculator mr-2"></i> 计算保本ROI
          </button>
        </form>
      </div>
      
      <!-- 结果展示卡片 -->
      <div class="md:col-span-2 flex flex-col">
        <!-- 结果卡片 -->
        <div class="bg-white rounded-2xl p-6 card-shadow mb-6 flex-grow">
          <h2 class="text-xl font-semibold mb-5 flex items-center">
            <i class="fa fa-bar-chart text-accent mr-2"></i>计算结果
          </h2>
          
          <div id="result-container" class="space-y-6">
            <!-- 初始提示 -->
            <div id="initial-message" class="text-center text-gray-500 py-10">
              <p>请输入原价和其他参数并点击计算按钮</p>
            </div>
            
            <!-- 结果内容（默认隐藏） -->
            <div id="result-content" class="hidden space-y-5">
              <!-- 毛利率 -->
              <div class="p-4 bg-neutral rounded-xl">
                <div class="text-sm text-gray-500 mb-1">毛利率</div>
                <div class="text-2xl font-bold text-primary" id="gross-margin">-</div>
              </div>
              
              <!-- 保本ROI -->
              <div class="p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-xl border border-green-100">
                <div class="text-sm text-gray-500 mb-1">保本ROI</div>
                <div class="text-3xl font-bold text-secondary" id="break-even-roi">-</div>
                <div class="text-xs text-gray-500 mt-2">
                  实际ROI需≥此数值才能保本
                </div>
              </div>
              
              <!-- 说明文字 -->
              <div class="text-sm text-gray-600 bg-blue-50 p-3 rounded-lg border border-blue-100">
                <p>例如：投入100元广告费，至少需要带来 <span id="example-sales" class="font-semibold text-primary">-</span> 元销售额才能保本</p>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 公式说明卡片 -->
        <div class="bg-white rounded-2xl p-5 card-shadow text-sm">
          <h3 class="font-medium mb-3 text-gray-700">倍率规则</h3>
          <ul class="list-disc pl-5 space-y-1 text-gray-600 mb-4">
            <li>价格0-20：5.5倍</li>
            <li>价格21-34：5倍</li>
            <li>价格35-45：4.5倍</li>
            <li>价格46-55：4.3倍</li>
            <li>价格56-65：4倍</li>
            <li>价格66-100：3.8倍</li>
            <li>价格101以上：3.5倍</li>
          </ul>
          <h3 class="font-medium mb-2 text-gray-700">计算公式</h3>
          <div class="bg-neutral p-3 rounded-lg font-mono text-gray-800 text-xs">
            产品售价 = 原价 × 折扣率<br>
            保本ROI = 1 / [毛利率 × (1 - 退货率) × (1 - 平台手续费率)]
          </div>
        </div>
      </div>
    </main>
    
    <!-- 底部说明 -->
    <footer class="mt-12 text-center text-gray-500 text-sm">
      <p>投流保本ROI计算器 &copy; 2023 | 帮助您精准计算营销盈亏平衡点</p>
    </footer>
  </div>
  
  <!-- JavaScript -->
  <script>
    // 获取DOM元素
    const form = document.getElementById('roi-calculator');
    const originalPriceInput = document.getElementById('original-price');
    const multiplierInput = document.getElementById('multiplier');
    const purchasePriceInput = document.getElementById('purchase-price');
    const discountInput = document.getElementById('discount');
    const sellingPriceInput = document.getElementById('selling-price');
    const initialMessage = document.getElementById('initial-message');
    const resultContent = document.getElementById('result-content');
    const grossMarginEl = document.getElementById('gross-margin');
    const breakEvenRoiEl = document.getElementById('break-even-roi');
    const exampleSalesEl = document.getElementById('example-sales');
    
    // 倍率规则配置
    const multiplierRules = [
      { min: 0, max: 20, multiplier: 5.5 },
      { min: 21, max: 34, multiplier: 5 },
      { min: 35, max: 45, multiplier: 4.5 },
      { min: 46, max: 55, multiplier: 4.3 },
      { min: 56, max: 65, multiplier: 4 },
      { min: 66, max: 100, multiplier: 3.8 },
      { min: 101, max: Infinity, multiplier: 3.5 }
    ];
    
    // 根据原价计算正确的倍率
    function calculateMultiplier(originalPrice) {
      for (const rule of multiplierRules) {
        const price = originalPrice / rule.multiplier;
        if (price >= rule.min && price <= rule.max) {
          return rule.multiplier;
        }
      }
      return multiplierRules[multiplierRules.length - 1].multiplier;
    }
    
    // 计算产品售价（原价×折扣）
    function calculateSellingPrice() {
      const originalPrice = parseFloat(originalPriceInput.value) || 0;
      const discount = parseFloat(discountInput.value) || 0;
      
      if (originalPrice > 0 && discount > 0) {
        const sellingPrice = originalPrice * (discount / 100);
        sellingPriceInput.value = sellingPrice.toFixed(2);
        return sellingPrice;
      } else {
        sellingPriceInput.value = '';
        return 0;
      }
    }
    
    // 当原价变化时自动计算倍率、采购价和产品售价
    originalPriceInput.addEventListener('input', function() {
      const originalPrice = parseFloat(this.value) || 0;
      
      if (originalPrice > 0) {
        const multiplier = calculateMultiplier(originalPrice);
        const purchasePrice = originalPrice / multiplier;
        
        multiplierInput.value = multiplier.toFixed(1);
        purchasePriceInput.value = purchasePrice.toFixed(2);
      } else {
        multiplierInput.value = '';
        purchasePriceInput.value = '';
      }
      
      // 重新计算售价
      calculateSellingPrice();
    });
    
    // 当折扣变化时自动计算产品售价
    discountInput.addEventListener('input', calculateSellingPrice);
    
    // 表单提交处理
    form.addEventListener('submit', function(e) {
      e.preventDefault();
      
      // 获取输入值
      const originalPrice = parseFloat(originalPriceInput.value) || 0;
      const purchasePrice = parseFloat(purchasePriceInput.value) || 0;
      const sellingPrice = parseFloat(sellingPriceInput.value) || 0;
      const returnRate = parseFloat(document.getElementById('return-rate').value) / 100 || 0;
      const feeRate = parseFloat(document.getElementById('fee-rate').value) / 100 || 0;
      
      // 验证输入
      if (originalPrice <= 0) {
        alert('请输入有效的原价');
        return;
      }
      
      if (sellingPrice <= purchasePrice) {
        alert('产品售价必须大于采购价');
        return;
      }
      
      // 计算毛利率 (基于售价和采购价)
      const grossMargin = (sellingPrice - purchasePrice) / sellingPrice;
      
      // 计算保本ROI
      const breakEvenROI = 1 / (grossMargin * (1 - returnRate) * (1 - feeRate));
      
      // 计算示例销售额
      const exampleSales = 100 * breakEvenROI;
      
      // 显示结果
      initialMessage.classList.add('hidden');
      resultContent.classList.remove('hidden');
      
      // 填充结果（保留两位小数）
      grossMarginEl.textContent = (grossMargin * 100).toFixed(2) + '%';
      breakEvenRoiEl.textContent = breakEvenROI.toFixed(2);
      exampleSalesEl.textContent = exampleSales.toFixed(2);
      
      // 添加结果动画效果
      breakEvenRoiEl.classList.add('animate-pulse');
      setTimeout(() => {
        breakEvenRoiEl.classList.remove('animate-pulse');
      }, 1000);
    });
    
    // 输入框实时验证
    const inputs = form.querySelectorAll('input');
    inputs.forEach(input => {
      input.addEventListener('input', function() {
        // 确保售价大于采购价
        if (['discount', 'original-price'].includes(this.id)) {
          const purchasePrice = parseFloat(purchasePriceInput.value) || 0;
          const sellingPrice = parseFloat(sellingPriceInput.value) || 0;
          
          if (sellingPrice <= purchasePrice && sellingPrice > 0 && purchasePrice > 0) {
            sellingPriceInput.classList.add('border-red-500');
          } else {
            sellingPriceInput.class      
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>投流保本ROI计算器</title>
  <!-- 引入Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- 引入Font Awesome -->
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  
  <!-- 配置Tailwind自定义主题 -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#3b82f6',
            secondary: '#10b981',
            accent: '#6366f1',
            neutral: '#f3f4f6',
            dark: '#1f2937'
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      .card-shadow {
        box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05), 0 8px 10px -6px rgba(0, 0, 0, 0.02);
      }
      .input-focus {
        @apply focus:ring-2 focus:ring-primary/50 focus:border-primary focus:outline-none;
      }
      .btn-hover {
        @apply hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300;
      }
      .highlight {
        @apply bg-yellow-50 border-yellow-200;
      }
    }
  </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-50 min-h-screen font-sans text-dark">
  <!-- 页面容器 -->
  <div class="container mx-auto px-4 py-8 max-w-5xl">
    <!-- 标题区域 -->
    <header class="text-center mb-10">
      <h1 class="text-[clamp(1.8rem,5vw,3rem)] font-bold text-dark mb-3 bg-clip-text text-transparent bg-gradient-to-r from-primary to-accent">
        投流保本ROI计算器
      </h1>
      <p class="text-gray-600 max-w-2xl mx-auto">
        快速计算包含退货率和平台手续费的投流保本ROI，助您精准把控营销成本与收益平衡点
      </p>
    </header>
    
    <!-- 主要内容区 -->
    <main class="grid md:grid-cols-5 gap-8">
      <!-- 输入表单卡片 -->
      <div class="md:col-span-3 bg-white rounded-2xl p-6 card-shadow">
        <h2 class="text-xl font-semibold mb-5 flex items-center">
          <i class="fa fa-calculator text-primary mr-2"></i>输入参数
        </h2>
        
        <form id="roi-calculator" class="space-y-5">
          <!-- 原价 -->
          <div class="space-y-2">
            <label for="original-price" class="block text-sm font-medium text-gray-700">
              原价 (元)
            </label>
            <div class="relative">
              <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                <i class="fa fa-rmb"></i>
              </span>
              <input 
                type="number" 
                id="original-price" 
                class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all"
                placeholder="例如：400"
                min="0" 
                step="0.01"
                required
              >
            </div>
          </div>
          
          <!-- 倍率 -->
          <div class="space-y-2">
            <label for="multiplier" class="block text-sm font-medium text-gray-700">
              倍率
            </label>
            <div class="relative">
              <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                <i class="fa fa-magic"></i>
              </span>
              <input 
                type="number" 
                id="multiplier" 
                class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all bg-gray-50"
                placeholder="自动计算"
                step="0.1"
                readonly
              >
            </div>
          </div>
          
          <!-- 采购价（计算结果） -->
          <div class="space-y-2">
            <label for="purchase-price" class="block text-sm font-medium text-gray-700">
              采购价 (原价/倍率)
            </label>
            <div class="relative">
              <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                <i class="fa fa-shopping-cart"></i>
              </span>
              <input 
                type="number" 
                id="purchase-price" 
                class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all bg-gray-50 highlight"
                placeholder="自动计算"
                step="0.01"
                
              >
            </div>
          </div>
          
          <!-- 折扣 -->
          <div class="space-y-2">
            <label for="discount" class="block text-sm font-medium text-gray-700">
              折扣 (%)
            </label>
            <div class="relative">
              <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                <i class="fa fa-percent"></i>
              </span>
              <input 
                type="number" 
                id="discount" 
                class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all"
                placeholder="例如：50（表示5折）"
                min="0" 
                max="100"
                step="0.01"
                required
              >
              <span class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500">
                %
              </span>
            </div>
          </div>
          
          <!-- 产品售价（自动计算：原价×折扣） -->
          <div class="space-y-2">
            <label for="selling-price" class="block text-sm font-medium text-gray-700">
              产品售价 (原价×折扣)
            </label>
            <div class="relative">
              <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                <i class="fa fa-tag"></i>
              </span>
              <input 
                type="number" 
                id="selling-price" 
                class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all bg-gray-50 highlight"
                placeholder="自动计算"
                step="0.01"
                readonly
              >
            </div>
          </div>
          
          <!-- 退货率 -->
          <div class="space-y-2">
            <label for="return-rate" class="block text-sm font-medium text-gray-700">
              退货率 (%)
            </label>
            <div class="relative">
              <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                <i class="fa fa-undo"></i>
              </span>
              <input 
                type="number" 
                id="return-rate" 
                class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all"
                placeholder="例如：10"
                min="0" 
                max="100"
                step="0.01"
                required
              >
              <span class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500">
                %
              </span>
            </div>
          </div>
          
          <!-- 平台手续费率 -->
          <div class="space-y-2">
            <label for="fee-rate" class="block text-sm font-medium text-gray-700">
              平台手续费率 (%)
            </label>
            <div class="relative">
              <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                <i class="fa fa-percent"></i>
              </span>
              <input 
                type="number" 
                id="fee-rate" 
                class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all"
                placeholder="例如：5"
                min="0" 
                max="100"
                step="0.01"
                required
              >
              <span class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500">
                %
              </span>
            </div>
          </div>
          
          <!-- 计算按钮 -->
          <button 
            type="submit" 
            class="w-full bg-primary hover:bg-primary/90 text-white font-medium py-3 px-4 rounded-lg btn-hover flex items-center justify-center"
          >
            <i class="fa fa-calculator mr-2"></i> 计算保本ROI
          </button>
        </form>
      </div>
      
      <!-- 结果展示卡片 -->
      <div class="md:col-span-2 flex flex-col">
        <!-- 结果卡片 -->
        <div class="bg-white rounded-2xl p-6 card-shadow mb-6 flex-grow">
          <h2 class="text-xl font-semibold mb-5 flex items-center">
            <i class="fa fa-bar-chart text-accent mr-2"></i>计算结果
          </h2>
          
          <div id="result-container" class="space-y-6">
            <!-- 初始提示 -->
            <div id="initial-message" class="text-center text-gray-500 py-10">
              <p>请输入原价和其他参数并点击计算按钮</p>
            </div>
            
            <!-- 结果内容（默认隐藏） -->
            <div id="result-content" class="hidden space-y-5">
              <!-- 毛利率 -->
              <div class="p-4 bg-neutral rounded-xl">
                <div class="text-sm text-gray-500 mb-1">毛利率</div>
                <div class="text-2xl font-bold text-primary" id="gross-margin">-</div>
              </div>
              
              <!-- 保本ROI -->
              <div class="p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-xl border border-green-100">
                <div class="text-sm text-gray-500 mb-1">保本ROI</div>
                <div class="text-3xl font-bold text-secondary" id="break-even-roi">-</div>
                <div class="text-xs text-gray-500 mt-2">
                  实际ROI需≥此数值才能保本
                </div>
              </div>
              
              <!-- 说明文字 -->
              <div class="text-sm text-gray-600 bg-blue-50 p-3 rounded-lg border border-blue-100">
                <p>例如：投入100元广告费，至少需要带来 <span id="example-sales" class="font-semibold text-primary">-</span> 元销售额才能保本</p>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 公式说明卡片 -->
        <div class="bg-white rounded-2xl p-5 card-shadow text-sm">
          <h3 class="font-medium mb-3 text-gray-700">倍率规则</h3>
          <ul class="list-disc pl-5 space-y-1 text-gray-600 mb-4">
            <li>价格0-20：5.5倍</li>
            <li>价格21-34：5倍</li>
            <li>价格35-45：4.5倍</li>
            <li>价格46-55：4.3倍</li>
            <li>价格56-65：4倍</li>
            <li>价格66-100：3.8倍</li>
            <li>价格101以上：3.5倍</li>
          </ul>
          <h3 class="font-medium mb-2 text-gray-700">计算公式</h3>
          <div class="bg-neutral p-3 rounded-lg font-mono text-gray-800 text-xs">
            产品售价 = 原价 × 折扣率<br>
            保本ROI = 1 / [毛利率 × (1 - 退货率) × (1 - 平台手续费率)]
          </div>
        </div>
      </div>
    </main>
    
    <!-- 底部说明 -->
    <footer class="mt-12 text-center text-gray-500 text-sm">
      <p>投流保本ROI计算器 &copy; 2023 | 帮助您精准计算营销盈亏平衡点</p>
    </footer>
  </div>
  
  <!-- JavaScript -->
  <script>
    // 获取DOM元素
    const form = document.getElementById('roi-calculator');
    const originalPriceInput = document.getElementById('original-price');
    const multiplierInput = document.getElementById('multiplier');
    const purchasePriceInput = document.getElementById('purchase-price');
    const discountInput = document.getElementById('discount');
    const sellingPriceInput = document.getElementById('selling-price');
    const initialMessage = document.getElementById('initial-message');
    const resultContent = document.getElementById('result-content');
    const grossMarginEl = document.getElementById('gross-margin');
    const breakEvenRoiEl = document.getElementById('break-even-roi');
    const exampleSalesEl = document.getElementById('example-sales');
    
    // 倍率规则配置
    const multiplierRules = [
      { min: 0, max: 20, multiplier: 5.5 },
      { min: 21, max: 34, multiplier: 5 },
      { min: 35, max: 45, multiplier: 4.5 },
      { min: 46, max: 55, multiplier: 4.3 },
      { min: 56, max: 65, multiplier: 4 },
      { min: 66, max: 100, multiplier: 3.8 },
      { min: 101, max: Infinity, multiplier: 3.5 }
    ];
    
    // 根据原价计算正确的倍率
    function calculateMultiplier(originalPrice) {
      for (const rule of multiplierRules) {
        const price = originalPrice / rule.multiplier;
        if (price >= rule.min && price <= rule.max) {
          return rule.multiplier;
        }
      }
      return multiplierRules[multiplierRules.length - 1].multiplier;
    }
    
    // 计算产品售价（原价×折扣）
    function calculateSellingPrice() {
      const originalPrice = parseFloat(originalPriceInput.value) || 0;
      const discount = parseFloat(discountInput.value) || 0;
      
      if (originalPrice > 0 && discount > 0) {
        const sellingPrice = originalPrice * (discount / 100);
        sellingPriceInput.value = sellingPrice.toFixed(2);
        return sellingPrice;
      } else {
        sellingPriceInput.value = '';
        return 0;
      }
    }
    
    // 当原价变化时自动计算倍率、采购价和产品售价
    originalPriceInput.addEventListener('input', function() {
      const originalPrice = parseFloat(this.value) || 0;
      
      if (originalPrice > 0) {
        const multiplier = calculateMultiplier(originalPrice);
        const purchasePrice = originalPrice / multiplier;
        
        multiplierInput.value = multiplier.toFixed(1);
        purchasePriceInput.value = purchasePrice.toFixed(2);
      } else {
        multiplierInput.value = '';
        purchasePriceInput.value = '';
      }
      
      // 重新计算售价
      calculateSellingPrice();
    });
    
    // 当折扣变化时自动计算产品售价
    discountInput.addEventListener('input', calculateSellingPrice);
    
    // 表单提交处理
    form.addEventListener('submit', function(e) {
      e.preventDefault();
      
      // 获取输入值
      const originalPrice = parseFloat(originalPriceInput.value) || 0;
      const purchasePrice = parseFloat(purchasePriceInput.value) || 0;
      const sellingPrice = parseFloat(sellingPriceInput.value) || 0;
      const returnRate = parseFloat(document.getElementById('return-rate').value) / 100 || 0;
      const feeRate = parseFloat(document.getElementById('fee-rate').value) / 100 || 0;
      
      // 验证输入
      if (originalPrice <= 0) {
        alert('请输入有效的原价');
        return;
      }
      
      if (sellingPrice <= purchasePrice) {
        alert('产品售价必须大于采购价');
        return;
      }
      
      // 计算毛利率 (基于售价和采购价)
      const grossMargin = (sellingPrice - purchasePrice) / sellingPrice;
      
      // 计算保本ROI
      const breakEvenROI = 1 / (grossMargin * (1 - returnRate) * (1 - feeRate));
      
      // 计算示例销售额
      const exampleSales = 100 * breakEvenROI;
      
      // 显示结果
      initialMessage.classList.add('hidden');
      resultContent.classList.remove('hidden');
      
      // 填充结果（保留两位小数）
      grossMarginEl.textContent = (grossMargin * 100).toFixed(2) + '%';
      breakEvenRoiEl.textContent = breakEvenROI.toFixed(2);
      exampleSalesEl.textContent = exampleSales.toFixed(2);
      
      // 添加结果动画效果
      breakEvenRoiEl.classList.add('animate-pulse');
      setTimeout(() => {
        breakEvenRoiEl.classList.remove('animate-pulse');
      }, 1000);
    });
    
    // 输入框实时验证
    const inputs = form.querySelectorAll('input');
    inputs.forEach(input => {
      input.addEventListener('input', function() {
        // 确保售价大于采购价
        if (['discount', 'original-price'].includes(this.id)) {
          const purchasePrice = parseFloat(purchasePriceInput.value) || 0;
          const sellingPrice = parseFloat(sellingPriceInput.value) || 0;
          
          if (sellingPrice <= purchasePrice && sellingPrice > 0 && purchasePrice > 0) {
            sellingPriceInput.classList.add('border-red-500');
          } else {
            sellingPriceInput.classList.remove('border-red-500');
          }
        }
      });
    });
  </script>
</body>
</html>

          
    <!DOCTYPE html>
    <html lang="zh-CN">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>投流保本ROI计算器</title>
      <!-- 引入Tailwind CSS -->
      <script src="https://cdn.tailwindcss.com"></script>
      <!-- 引入Font Awesome -->
      <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
      
      <!-- 配置Tailwind自定义主题 -->
      <script>
        tailwind.config = {
          theme: {
            extend: {
              colors: {
                primary: '#3b82f6',
                secondary: '#10b981',
                accent: '#6366f1',
                neutral: '#f3f4f6',
                dark: '#1f2937'
              },
              fontFamily: {
                sans: ['Inter', 'system-ui', 'sans-serif'],
              },
            },
          }
        }
      </script>
      
      <style type="text/tailwindcss">
        @layer utilities {
          .card-shadow {
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05), 0 8px 10px -6px rgba(0, 0, 0, 0.02);
          }
          .input-focus {
            @apply focus:ring-2 focus:ring-primary/50 focus:border-primary focus:outline-none;
          }
          .btn-hover {
            @apply hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300;
          }
          .highlight {
            @apply bg-yellow-50 border-yellow-200;
          }
        }
      </style>
    </head>
    <body class="bg-gradient-to-br from-blue-50 to-indigo-50 min-h-screen font-sans text-dark">
      <!-- 页面容器 -->
      <div class="container mx-auto px-4 py-8 max-w-5xl">
        <!-- 标题区域 -->
        <header class="text-center mb-10">
          <h1 class="text-[clamp(1.8rem,5vw,3rem)] font-bold text-dark mb-3 bg-clip-text text-transparent bg-gradient-to-r from-primary to-accent">
            投流保本ROI计算器
          </h1>
          <p class="text-gray-600 max-w-2xl mx-auto">
            快速计算包含退货率和平台手续费的投流保本ROI，助您精准把控营销成本与收益平衡点
          </p>
        </header>
        
        <!-- 主要内容区 -->
        <main class="grid md:grid-cols-5 gap-8">
          <!-- 输入表单卡片 -->
          <div class="md:col-span-3 bg-white rounded-2xl p-6 card-shadow">
            <h2 class="text-xl font-semibold mb-5 flex items-center">
              <i class="fa fa-calculator text-primary mr-2"></i>输入参数
            </h2>
            
            <form id="roi-calculator" class="space-y-5">
              <!-- 原价 -->
              <div class="space-y-2">
                <label for="original-price" class="block text-sm font-medium text-gray-700">
                  原价 (元)
                </label>
                <div class="relative">
                  <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                    <i class="fa fa-rmb"></i>
                  </span>
                  <input 
                    type="number" 
                    id="original-price" 
                    class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all"
                    placeholder="例如：400"
                    min="0" 
                    step="0.01"
                    required
                  >
                </div>
              </div>
              
              <!-- 倍率 -->
              <div class="space-y-2">
                <label for="multiplier" class="block text-sm font-medium text-gray-700">
                  倍率
                </label>
                <div class="relative">
                  <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                    <i class="fa fa-magic"></i>
                  </span>
                  <input 
                    type="number" 
                    id="multiplier" 
                    class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all bg-gray-50"
                    placeholder="自动计算"
                    step="0.1"
                    readonly
                  >
                </div>
              </div>
              
              <!-- 采购价（计算结果） -->
              <div class="space-y-2">
                <label for="purchase-price" class="block text-sm font-medium text-gray-700">
                  采购价 (原价/倍率)
                </label>
                <div class="relative">
                  <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                    <i class="fa fa-shopping-cart"></i>
                  </span>
                  <input 
                    type="number" 
                    id="purchase-price" 
                    class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all bg-gray-50 highlight"
                    placeholder="自动计算"
                    step="0.01"
                    
                  >
                </div>
              </div>
              
              <!-- 折扣 -->
              <div class="space-y-2">
                <label for="discount" class="block text-sm font-medium text-gray-700">
                  折扣 (%)
                </label>
                <div class="relative">
                  <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                    <i class="fa fa-percent"></i>
                  </span>
                  <input 
                    type="number" 
                    id="discount" 
                    class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all"
                    placeholder="例如：50（表示5折）"
                    min="0" 
                    max="100"
                    step="0.01"
                    required
                  >
                  <span class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500">
                    %
                  </span>
                </div>
              </div>
              
              <!-- 产品售价（自动计算：原价×折扣） -->
              <div class="space-y-2">
                <label for="selling-price" class="block text-sm font-medium text-gray-700">
                  产品售价 (原价×折扣)
                </label>
                <div class="relative">
                  <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                    <i class="fa fa-tag"></i>
                  </span>
                  <input 
                    type="number" 
                    id="selling-price" 
                    class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all bg-gray-50 highlight"
                    placeholder="自动计算"
                    step="0.01"
                    readonly
                  >
                </div>
              </div>
              
              <!-- 退货率 -->
              <div class="space-y-2">
                <label for="return-rate" class="block text-sm font-medium text-gray-700">
                  退货率 (%)
                </label>
                <div class="relative">
                  <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                    <i class="fa fa-undo"></i>
                  </span>
                  <input 
                    type="number" 
                    id="return-rate" 
                    class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all"
                    placeholder="例如：10"
                    min="0" 
                    max="100"
                    step="0.01"
                    required
                  >
                  <span class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500">
                    %
                  </span>
                </div>
              </div>
              
              <!-- 平台手续费率 -->
              <div class="space-y-2">
                <label for="fee-rate" class="block text-sm font-medium text-gray-700">
                  平台手续费率 (%)
                </label>
                <div class="relative">
                  <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                    <i class="fa fa-percent"></i>
                  </span>
                  <input 
                    type="number" 
                    id="fee-rate" 
                    class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all"
                    placeholder="例如：5"
                    min="0" 
                    max="100"
                    step="0.01"
                    required
                  >
                  <span class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500">
                    %
                  </span>
                </div>
              </div>
              
              <!-- 计算按钮 -->
              <button 
                type="submit" 
                class="w-full bg-primary hover:bg-primary/90 text-white font-medium py-3 px-4 rounded-lg btn-hover flex items-center justify-center"
              >
                <i class="fa fa-calculator mr-2"></i> 计算保本ROI
              </button>
            </form>
          </div>
          
          <!-- 结果展示卡片 -->
          <div class="md:col-span-2 flex flex-col">
            <!-- 结果卡片 -->
            <div class="bg-white rounded-2xl p-6 card-shadow mb-6 flex-grow">
              <h2 class="text-xl font-semibold mb-5 flex items-center">
                <i class="fa fa-bar-chart text-accent mr-2"></i>计算结果
              </h2>
              
              <div id="result-container" class="space-y-6">
                <!-- 初始提示 -->
                <div id="initial-message" class="text-center text-gray-500 py-10">
                  <p>请输入原价和其他参数并点击计算按钮</p>
                </div>
                
                <!-- 结果内容（默认隐藏） -->
                <div id="result-content" class="hidden space-y-5">
                  <!-- 毛利率 -->
                  <div class="p-4 bg-neutral rounded-xl">
                    <div class="text-sm text-gray-500 mb-1">毛利率</div>
                    <div class="text-2xl font-bold text-primary" id="gross-margin">-</div>
                  </div>
                  
                  <!-- 保本ROI -->
                  <div class="p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-xl border border-green-100">
                    <div class="text-sm text-gray-500 mb-1">保本ROI</div>
                    <div class="text-3xl font-bold text-secondary" id="break-even-roi">-</div>
                    <div class="text-xs text-gray-500 mt-2">
                      实际ROI需≥此数值才能保本
                    </div>
                  </div>
                  
                  <!-- 说明文字 -->
                  <div class="text-sm text-gray-600 bg-blue-50 p-3 rounded-lg border border-blue-100">
                    <p>例如：投入100元广告费，至少需要带来 <span id="example-sales" class="font-semibold text-primary">-</span> 元销售额才能保本</p>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- 公式说明卡片 -->
            <div class="bg-white rounded-2xl p-5 card-shadow text-sm">
              <h3 class="font-medium mb-3 text-gray-700">倍率规则</h3>
              <ul class="list-disc pl-5 space-y-1 text-gray-600 mb-4">
                <li>价格0-20：5.5倍</li>
                <li>价格21-34：5倍</li>
                <li>价格35-45：4.5倍</li>
                <li>价格46-55：4.3倍</li>
                <li>价格56-65：4倍</li>
                <li>价格66-100：3.8倍</li>
                <li>价格101以上：3.5倍</li>
              </ul>
              <h3 class="font-medium mb-2 text-gray-700">计算公式</h3>
              <div class="bg-neutral p-3 rounded-lg font-mono text-gray-800 text-xs">
                产品售价 = 原价 × 折扣率<br>
                保本ROI = 1 / [毛利率 × (1 - 退货率) × (1 - 平台手续费率)]
              </div>
            </div>
          </div>
        </main>
        
        <!-- 底部说明 -->
        <footer class="mt-12 text-center text-gray-500 text-sm">
          <p>投流保本ROI计算器 &copy; 2023 | 帮助您精准计算营销盈亏平衡点</p>
        </footer>
      </div>
      
      <!-- JavaScript -->
      <script>
        // 获取DOM元素
        const form = document.getElementById('roi-calculator');
        const originalPriceInput = document.getElementById('original-price');
        const multiplierInput = document.getElementById('multiplier');
        const purchasePriceInput = document.getElementById('purchase-price');
        const discountInput = document.getElementById('discount');
        const sellingPriceInput = document.getElementById('selling-price');
        const initialMessage = document.getElementById('initial-message');
        const resultContent = document.getElementById('result-content');
        const grossMarginEl = document.getElementById('gross-margin');
        const breakEvenRoiEl = document.getElementById('break-even-roi');
        const exampleSalesEl = document.getElementById('example-sales');
        
        // 倍率规则配置
        const multiplierRules = [
          { min: 0, max: 20, multiplier: 5.5 },
          { min: 21, max: 34, multiplier: 5 },
          { min: 35, max: 45, multiplier: 4.5 },
          { min: 46, max: 55, multiplier: 4.3 },
          { min: 56, max: 65, multiplier: 4 },
          { min: 66, max: 100, multiplier: 3.8 },
          { min: 101, max: Infinity, multiplier: 3.5 }
        ];
        
        // 根据原价计算正确的倍率
        function calculateMultiplier(originalPrice) {
          for (const rule of multiplierRules) {
            const price = originalPrice / rule.multiplier;
            if (price >= rule.min && price <= rule.max) {
              return rule.multiplier;
            }
          }
          return multiplierRules[multiplierRules.length - 1].multiplier;
        }
        
        // 计算产品售价（原价×折扣）
        function calculateSellingPrice() {
          const originalPrice = parseFloat(originalPriceInput.value) || 0;
          const discount = parseFloat(discountInput.value) || 0;
          
          if (originalPrice > 0 && discount > 0) {
            const sellingPrice = originalPrice * (discount / 100);
            sellingPriceInput.value = sellingPrice.toFixed(2);
            return sellingPrice;
          } else {
            sellingPriceInput.value = '';
            return 0;
          }
        }
        
        // 当原价变化时自动计算倍率、采购价和产品售价
        originalPriceInput.addEventListener('input', function() {
          const originalPrice = parseFloat(this.value) || 0;
          
          if (originalPrice > 0) {
            const multiplier = calculateMultiplier(originalPrice);
            const purchasePrice = originalPrice / multiplier;
            
            multiplierInput.value = multiplier.toFixed(1);
            purchasePriceInput.value = purchasePrice.toFixed(2);
          } else {
            multiplierInput.value = '';
            purchasePriceInput.value = '';
          }
          
          // 重新计算售价
          calculateSellingPrice();
        });
        
        // 当折扣变化时自动计算产品售价
        discountInput.addEventListener('input', calculateSellingPrice);
        
        // 表单提交处理
        form.addEventListener('submit', function(e) {
          e.preventDefault();
          
          // 获取输入值
          const originalPrice = parseFloat(originalPriceInput.value) || 0;
          const purchasePrice = parseFloat(purchasePriceInput.value) || 0;
          const sellingPrice = parseFloat(sellingPriceInput.value) || 0;
          const returnRate = parseFloat(document.getElementById('return-rate').value) / 100 || 0;
          const feeRate = parseFloat(document.getElementById('fee-rate').value) / 100 || 0;
          
          // 验证输入
          if (originalPrice <= 0) {
            alert('请输入有效的原价');
            return;
          }
          
          if (sellingPrice <= purchasePrice) {
            alert('产品售价必须大于采购价');
            return;
          }
          
          // 计算毛利率 (基于售价和采购价)
          const grossMargin = (sellingPrice - purchasePrice) / sellingPrice;
          
          // 计算保本ROI
          const breakEvenROI = 1 / (grossMargin * (1 - returnRate) * (1 - feeRate));
          
          // 计算示例销售额
          const exampleSales = 100 * breakEvenROI;
          
          // 显示结果
          initialMessage.classList.add('hidden');
          resultContent.classList.remove('hidden');
          
          // 填充结果（保留两位小数）
          grossMarginEl.textContent = (grossMargin * 100).toFixed(2) + '%';
          breakEvenRoiEl.textContent = breakEvenROI.toFixed(2);
          exampleSalesEl.textContent = exampleSales.toFixed(2);
          
          // 添加结果动画效果
          breakEvenRoiEl.classList.add('animate-pulse');
          setTimeout(() => {
            breakEvenRoiEl.classList.remove('animate-pulse');
          }, 1000);
        });
        
        // 输入框实时验证
        const inputs = form.querySelectorAll('input');
        inputs.forEach(input => {
          input.addEventListener('input', function() {
            // 确保售价大于采购价
            if (['discount', 'original-price'].includes(this.id)) {
              const purchasePrice = parseFloat(purchasePriceInput.value) || 0;
              const sellingPrice = parseFloat(sellingPriceInput.value) || 0;
              
              if (sellingPrice <= purchasePrice && sellingPrice > 0 && purchasePrice > 0) {
                sellingPriceInput.classList.add('border-red-500');
              } else {
                sellingPriceInput.classList.remove('border-red-500');
              }
            }
          });
        });
      </script>
    </body>
    </html>

              
        <!DOCTYPE html>
        <html lang="zh-CN">
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>投流保本ROI计算器</title>
          <!-- 引入Tailwind CSS -->
          <script src="https://cdn.tailwindcss.com"></script>
          <!-- 引入Font Awesome -->
          <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
          
          <!-- 配置Tailwind自定义主题 -->
          <script>
            tailwind.config = {
              theme: {
                extend: {
                  colors: {
                    primary: '#3b82f6',
                    secondary: '#10b981',
                    accent: '#6366f1',
                    neutral: '#f3f4f6',
                    dark: '#1f2937'
                  },
                  fontFamily: {
                    sans: ['Inter', 'system-ui', 'sans-serif'],
                  },
                },
              }
            }
          </script>
          
          <style type="text/tailwindcss">
            @layer utilities {
              .card-shadow {
                box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05), 0 8px 10px -6px rgba(0, 0, 0, 0.02);
              }
              .input-focus {
                @apply focus:ring-2 focus:ring-primary/50 focus:border-primary focus:outline-none;
              }
              .btn-hover {
                @apply hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300;
              }
              .highlight {
                @apply bg-yellow-50 border-yellow-200;
              }
            }
          </style>
        </head>
        <body class="bg-gradient-to-br from-blue-50 to-indigo-50 min-h-screen font-sans text-dark">
          <!-- 页面容器 -->
          <div class="container mx-auto px-4 py-8 max-w-5xl">
            <!-- 标题区域 -->
            <header class="text-center mb-10">
              <h1 class="text-[clamp(1.8rem,5vw,3rem)] font-bold text-dark mb-3 bg-clip-text text-transparent bg-gradient-to-r from-primary to-accent">
                投流保本ROI计算器
              </h1>
              <p class="text-gray-600 max-w-2xl mx-auto">
                快速计算包含退货率和平台手续费的投流保本ROI，助您精准把控营销成本与收益平衡点
              </p>
            </header>
            
            <!-- 主要内容区 -->
            <main class="grid md:grid-cols-5 gap-8">
              <!-- 输入表单卡片 -->
              <div class="md:col-span-3 bg-white rounded-2xl p-6 card-shadow">
                <h2 class="text-xl font-semibold mb-5 flex items-center">
                  <i class="fa fa-calculator text-primary mr-2"></i>输入参数
                </h2>
                
                <form id="roi-calculator" class="space-y-5">
                  <!-- 原价 -->
                  <div class="space-y-2">
                    <label for="original-price" class="block text-sm font-medium text-gray-700">
                      原价 (元)
                    </label>
                    <div class="relative">
                      <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                        <i class="fa fa-rmb"></i>
                      </span>
                      <input 
                        type="number" 
                        id="original-price" 
                        class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all"
                        placeholder="例如：400"
                        min="0" 
                        step="0.01"
                        required
                      >
                    </div>
                  </div>
                  
                  <!-- 倍率 -->
                  <div class="space-y-2">
                    <label for="multiplier" class="block text-sm font-medium text-gray-700">
                      倍率
                    </label>
                    <div class="relative">
                      <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                        <i class="fa fa-magic"></i>
                      </span>
                      <input 
                        type="number" 
                        id="multiplier" 
                        class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all bg-gray-50"
                        placeholder="自动计算"
                        step="0.1"
                        readonly
                      >
                    </div>
                  </div>
                  
                  <!-- 采购价（计算结果） -->
                  <div class="space-y-2">
                    <label for="purchase-price" class="block text-sm font-medium text-gray-700">
                      采购价 (原价/倍率)
                    </label>
                    <div class="relative">
                      <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                        <i class="fa fa-shopping-cart"></i>
                      </span>
                      <input 
                        type="number" 
                        id="purchase-price" 
                        class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all bg-gray-50 highlight"
                        placeholder="自动计算"
                        step="0.01"
                        
                      >
                    </div>
                  </div>
                  
                  <!-- 折扣 -->
                  <div class="space-y-2">
                    <label for="discount" class="block text-sm font-medium text-gray-700">
                      折扣 (%)
                    </label>
                    <div class="relative">
                      <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                        <i class="fa fa-percent"></i>
                      </span>
                      <input 
                        type="number" 
                        id="discount" 
                        class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all"
                        placeholder="例如：50（表示5折）"
                        min="0" 
                        max="100"
                        step="0.01"
                        required
                      >
                      <span class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500">
                        %
                      </span>
                    </div>
                  </div>
                  
                  <!-- 产品售价（自动计算：原价×折扣） -->
                  <div class="space-y-2">
                    <label for="selling-price" class="block text-sm font-medium text-gray-700">
                      产品售价 (原价×折扣)
                    </label>
                    <div class="relative">
                      <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                        <i class="fa fa-tag"></i>
                      </span>
                      <input 
                        type="number" 
                        id="selling-price" 
                        class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all bg-gray-50 highlight"
                        placeholder="自动计算"
                        step="0.01"
                        readonly
                      >
                    </div>
                  </div>
                  
                  <!-- 退货率 -->
                  <div class="space-y-2">
                    <label for="return-rate" class="block text-sm font-medium text-gray-700">
                      退货率 (%)
                    </label>
                    <div class="relative">
                      <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                        <i class="fa fa-undo"></i>
                      </span>
                      <input 
                        type="number" 
                        id="return-rate" 
                        class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all"
                        placeholder="例如：10"
                        min="0" 
                        max="100"
                        step="0.01"
                        required
                      >
                      <span class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500">
                        %
                      </span>
                    </div>
                  </div>
                  
                  <!-- 平台手续费率 -->
                  <div class="space-y-2">
                    <label for="fee-rate" class="block text-sm font-medium text-gray-700">
                      平台手续费率 (%)
                    </label>
                    <div class="relative">
                      <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                        <i class="fa fa-percent"></i>
                      </span>
                      <input 
                        type="number" 
                        id="fee-rate" 
                        class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all"
                        placeholder="例如：5"
                        min="0" 
                        max="100"
                        step="0.01"
                        required
                      >
                      <span class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500">
                        %
                      </span>
                    </div>
                  </div>
                  
                  <!-- 计算按钮 -->
                  <button 
                    type="submit" 
                    class="w-full bg-primary hover:bg-primary/90 text-white font-medium py-3 px-4 rounded-lg btn-hover flex items-center justify-center"
                  >
                    <i class="fa fa-calculator mr-2"></i> 计算保本ROI
                  </button>
                </form>
              </div>
              
              <!-- 结果展示卡片 -->
              <div class="md:col-span-2 flex flex-col">
                <!-- 结果卡片 -->
                <div class="bg-white rounded-2xl p-6 card-shadow mb-6 flex-grow">
                  <h2 class="text-xl font-semibold mb-5 flex items-center">
                    <i class="fa fa-bar-chart text-accent mr-2"></i>计算结果
                  </h2>
                  
                  <div id="result-container" class="space-y-6">
                    <!-- 初始提示 -->
                    <div id="initial-message" class="text-center text-gray-500 py-10">
                      <p>请输入原价和其他参数并点击计算按钮</p>
                    </div>
                    
                    <!-- 结果内容（默认隐藏） -->
                    <div id="result-content" class="hidden space-y-5">
                      <!-- 毛利率 -->
                      <div class="p-4 bg-neutral rounded-xl">
                        <div class="text-sm text-gray-500 mb-1">毛利率</div>
                        <div class="text-2xl font-bold text-primary" id="gross-margin">-</div>
                      </div>
                      
                      <!-- 保本ROI -->
                      <div class="p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-xl border border-green-100">
                        <div class="text-sm text-gray-500 mb-1">保本ROI</div>
                        <div class="text-3xl font-bold text-secondary" id="break-even-roi">-</div>
                        <div class="text-xs text-gray-500 mt-2">
                          实际ROI需≥此数值才能保本
                        </div>
                      </div>
                      
                      <!-- 说明文字 -->
                      <div class="text-sm text-gray-600 bg-blue-50 p-3 rounded-lg border border-blue-100">
                        <p>例如：投入100元广告费，至少需要带来 <span id="example-sales" class="font-semibold text-primary">-</span> 元销售额才能保本</p>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- 公式说明卡片 -->
                <div class="bg-white rounded-2xl p-5 card-shadow text-sm">
                  <h3 class="font-medium mb-3 text-gray-700">倍率规则</h3>
                  <ul class="list-disc pl-5 space-y-1 text-gray-600 mb-4">
                    <li>价格0-20：5.5倍</li>
                    <li>价格21-34：5倍</li>
                    <li>价格35-45：4.5倍</li>
                    <li>价格46-55：4.3倍</li>
                    <li>价格56-65：4倍</li>
                    <li>价格66-100：3.8倍</li>
                    <li>价格101以上：3.5倍</li>
                  </ul>
                  <h3 class="font-medium mb-2 text-gray-700">计算公式</h3>
                  <div class="bg-neutral p-3 rounded-lg font-mono text-gray-800 text-xs">
                    产品售价 = 原价 × 折扣率<br>
                    保本ROI = 1 / [毛利率 × (1 - 退货率) × (1 - 平台手续费率)]
                  </div>
                </div>
              </div>
            </main>
            
            <!-- 底部说明 -->
            <footer class="mt-12 text-center text-gray-500 text-sm">
              <p>投流保本ROI计算器 &copy; 2023 | 帮助您精准计算营销盈亏平衡点</p>
            </footer>
          </div>
          
          <!-- JavaScript -->
          <script>
            // 获取DOM元素
            const form = document.getElementById('roi-calculator');
            const originalPriceInput = document.getElementById('original-price');
            const multiplierInput = document.getElementById('multiplier');
            const purchasePriceInput = document.getElementById('purchase-price');
            const discountInput = document.getElementById('discount');
            const sellingPriceInput = document.getElementById('selling-price');
            const initialMessage = document.getElementById('initial-message');
            const resultContent = document.getElementById('result-content');
            const grossMarginEl = document.getElementById('gross-margin');
            const breakEvenRoiEl = document.getElementById('break-even-roi');
            const exampleSalesEl = document.getElementById('example-sales');
            
            // 倍率规则配置
            const multiplierRules = [
              { min: 0, max: 20, multiplier: 5.5 },
              { min: 21, max: 34, multiplier: 5 },
              { min: 35, max: 45, multiplier: 4.5 },
              { min: 46, max: 55, multiplier: 4.3 },
              { min: 56, max: 65, multiplier: 4 },
              { min: 66, max: 100, multiplier: 3.8 },
              { min: 101, max: Infinity, multiplier: 3.5 }
            ];
            
            // 根据原价计算正确的倍率
            function calculateMultiplier(originalPrice) {
              for (const rule of multiplierRules) {
                const price = originalPrice / rule.multiplier;
                if (price >= rule.min && price <= rule.max) {
                  return rule.multiplier;
                }
              }
              return multiplierRules[multiplierRules.length - 1].multiplier;
            }
            
            // 计算产品售价（原价×折扣）
            function calculateSellingPrice() {
              const originalPrice = parseFloat(originalPriceInput.value) || 0;
              const discount = parseFloat(discountInput.value) || 0;
              
              if (originalPrice > 0 && discount > 0) {
                const sellingPrice = originalPrice * (discount / 100);
                sellingPriceInput.value = sellingPrice.toFixed(2);
                return sellingPrice;
              } else {
                sellingPriceInput.value = '';
                return 0;
              }
            }
            
            // 当原价变化时自动计算倍率、采购价和产品售价
            originalPriceInput.addEventListener('input', function() {
              const originalPrice = parseFloat(this.value) || 0;
              
              if (originalPrice > 0) {
                const multiplier = calculateMultiplier(originalPrice);
                const purchasePrice = originalPrice / multiplier;
                
                multiplierInput.value = multiplier.toFixed(1);
                purchasePriceInput.value = purchasePrice.toFixed(2);
              } else {
                multiplierInput.value = '';
                purchasePriceInput.value = '';
              }
              
              // 重新计算售价
              calculateSellingPrice();
            });
            
            // 当折扣变化时自动计算产品售价
            discountInput.addEventListener('input', calculateSellingPrice);
            
            // 表单提交处理
            form.addEventListener('submit', function(e) {
              e.preventDefault();
              
              // 获取输入值
              const originalPrice = parseFloat(originalPriceInput.value) || 0;
              const purchasePrice = parseFloat(purchasePriceInput.value) || 0;
              const sellingPrice = parseFloat(sellingPriceInput.value) || 0;
              const returnRate = parseFloat(document.getElementById('return-rate').value) / 100 || 0;
              const feeRate = parseFloat(document.getElementById('fee-rate').value) / 100 || 0;
              
              // 验证输入
              if (originalPrice <= 0) {
                alert('请输入有效的原价');
                return;
              }
              
              if (sellingPrice <= purchasePrice) {
                alert('产品售价必须大于采购价');
                return;
              }
              
              // 计算毛利率 (基于售价和采购价)
              const grossMargin = (sellingPrice - purchasePrice) / sellingPrice;
              
              // 计算保本ROI
              const breakEvenROI = 1 / (grossMargin * (1 - returnRate) * (1 - feeRate));
              
              // 计算示例销售额
              const exampleSales = 100 * breakEvenROI;
              
              // 显示结果
              initialMessage.classList.add('hidden');
              resultContent.classList.remove('hidden');
              
              // 填充结果（保留两位小数）
              grossMarginEl.textContent = (grossMargin * 100).toFixed(2) + '%';
              breakEvenRoiEl.textContent = breakEvenROI.toFixed(2);
              exampleSalesEl.textContent = exampleSales.toFixed(2);
              
              // 添加结果动画效果
              breakEvenRoiEl.classList.add('animate-pulse');
              setTimeout(() => {
                breakEvenRoiEl.classList.remove('animate-pulse');
              }, 1000);
            });
            
            // 输入框实时验证
            const inputs = form.querySelectorAll('input');
            inputs.forEach(input => {
              input.addEventListener('input', function() {
                // 确保售价大于采购价
                if (['discount', 'original-price'].includes(this.id)) {
                  const purchasePrice = parseFloat(purchasePriceInput.value) || 0;
                  const sellingPrice = parseFloat(sellingPriceInput.value) || 0;
                  
                  if (sellingPrice <= purchasePrice && sellingPrice > 0 && purchasePrice > 0) {
                    sellingPriceInput.classList.add('border-red-500');
                  } else {
                    sellingPriceInput.classList.remove('border-red-500');
                  }
                }
              });
            });
          </script>
        </body>
        </html>

                  
            <!DOCTYPE html>
            <html lang="zh-CN">
            <head>
              <meta charset="UTF-8">
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <title>投流保本ROI计算器</title>
              <!-- 引入Tailwind CSS -->
              <script src="https://cdn.tailwindcss.com"></script>
              <!-- 引入Font Awesome -->
              <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
              
              <!-- 配置Tailwind自定义主题 -->
              <script>
                tailwind.config = {
                  theme: {
                    extend: {
                      colors: {
                        primary: '#3b82f6',
                        secondary: '#10b981',
                        accent: '#6366f1',
                        neutral: '#f3f4f6',
                        dark: '#1f2937'
                      },
                      fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                      },
                    },
                  }
                }
              </script>
              
              <style type="text/tailwindcss">
                @layer utilities {
                  .card-shadow {
                    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05), 0 8px 10px -6px rgba(0, 0, 0, 0.02);
                  }
                  .input-focus {
                    @apply focus:ring-2 focus:ring-primary/50 focus:border-primary focus:outline-none;
                  }
                  .btn-hover {
                    @apply hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300;
                  }
                  .highlight {
                    @apply bg-yellow-50 border-yellow-200;
                  }
                }
              </style>
            </head>
            <body class="bg-gradient-to-br from-blue-50 to-indigo-50 min-h-screen font-sans text-dark">
              <!-- 页面容器 -->
              <div class="container mx-auto px-4 py-8 max-w-5xl">
                <!-- 标题区域 -->
                <header class="text-center mb-10">
                  <h1 class="text-[clamp(1.8rem,5vw,3rem)] font-bold text-dark mb-3 bg-clip-text text-transparent bg-gradient-to-r from-primary to-accent">
                    投流保本ROI计算器
                  </h1>
                  <p class="text-gray-600 max-w-2xl mx-auto">
                    快速计算包含退货率和平台手续费的投流保本ROI，助您精准把控营销成本与收益平衡点
                  </p>
                </header>
                
                <!-- 主要内容区 -->
                <main class="grid md:grid-cols-5 gap-8">
                  <!-- 输入表单卡片 -->
                  <div class="md:col-span-3 bg-white rounded-2xl p-6 card-shadow">
                    <h2 class="text-xl font-semibold mb-5 flex items-center">
                      <i class="fa fa-calculator text-primary mr-2"></i>输入参数
                    </h2>
                    
                    <form id="roi-calculator" class="space-y-5">
                      <!-- 原价 -->
                      <div class="space-y-2">
                        <label for="original-price" class="block text-sm font-medium text-gray-700">
                          原价 (元)
                        </label>
                        <div class="relative">
                          <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                            <i class="fa fa-rmb"></i>
                          </span>
                          <input 
                            type="number" 
                            id="original-price" 
                            class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all"
                            placeholder="例如：400"
                            min="0" 
                            step="0.01"
                            required
                          >
                        </div>
                      </div>
                      
                      <!-- 倍率 -->
                      <div class="space-y-2">
                        <label for="multiplier" class="block text-sm font-medium text-gray-700">
                          倍率
                        </label>
                        <div class="relative">
                          <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                            <i class="fa fa-magic"></i>
                          </span>
                          <input 
                            type="number" 
                            id="multiplier" 
                            class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all bg-gray-50"
                            placeholder="自动计算"
                            step="0.1"
                            readonly
                          >
                        </div>
                      </div>
                      
                      <!-- 采购价（计算结果） -->
                      <div class="space-y-2">
                        <label for="purchase-price" class="block text-sm font-medium text-gray-700">
                          采购价 (原价/倍率)
                        </label>
                        <div class="relative">
                          <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                            <i class="fa fa-shopping-cart"></i>
                          </span>
                          <input 
                            type="number" 
                            id="purchase-price" 
                            class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all bg-gray-50 highlight"
                            placeholder="自动计算"
                            step="0.01"
                            
                          >
                        </div>
                      </div>
                      
                      <!-- 折扣 -->
                      <div class="space-y-2">
                        <label for="discount" class="block text-sm font-medium text-gray-700">
                          折扣 (%)
                        </label>
                        <div class="relative">
                          <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                            <i class="fa fa-percent"></i>
                          </span>
                          <input 
                            type="number" 
                            id="discount" 
                            class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all"
                            placeholder="例如：50（表示5折）"
                            min="0" 
                            max="100"
                            step="0.01"
                            required
                          >
                          <span class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500">
                            %
                          </span>
                        </div>
                      </div>
                      
                      <!-- 产品售价（自动计算：原价×折扣） -->
                      <div class="space-y-2">
                        <label for="selling-price" class="block text-sm font-medium text-gray-700">
                          产品售价 (原价×折扣)
                        </label>
                        <div class="relative">
                          <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                            <i class="fa fa-tag"></i>
                          </span>
                          <input 
                            type="number" 
                            id="selling-price" 
                            class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all bg-gray-50 highlight"
                            placeholder="自动计算"
                            step="0.01"
                            readonly
                          >
                        </div>
                      </div>
                      
                      <!-- 退货率 -->
                      <div class="space-y-2">
                        <label for="return-rate" class="block text-sm font-medium text-gray-700">
                          退货率 (%)
                        </label>
                        <div class="relative">
                          <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                            <i class="fa fa-undo"></i>
                          </span>
                          <input 
                            type="number" 
                            id="return-rate" 
                            class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all"
                            placeholder="例如：10"
                            min="0" 
                            max="100"
                            step="0.01"
                            required
                          >
                          <span class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500">
                            %
                          </span>
                        </div>
                      </div>
                      
                      <!-- 平台手续费率 -->
                      <div class="space-y-2">
                        <label for="fee-rate" class="block text-sm font-medium text-gray-700">
                          平台手续费率 (%)
                        </label>
                        <div class="relative">
                          <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                            <i class="fa fa-percent"></i>
                          </span>
                          <input 
                            type="number" 
                            id="fee-rate" 
                            class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg input-focus transition-all"
                            placeholder="例如：5"
                            min="0" 
                            max="100"
                            step="0.01"
                            required
                          >
                          <span class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500">
                            %
                          </span>
                        </div>
                      </div>
                      
                      <!-- 计算按钮 -->
                      <button 
                        type="submit" 
                        class="w-full bg-primary hover:bg-primary/90 text-white font-medium py-3 px-4 rounded-lg btn-hover flex items-center justify-center"
                      >
                        <i class="fa fa-calculator mr-2"></i> 计算保本ROI
                      </button>
                    </form>
                  </div>
                  
                  <!-- 结果展示卡片 -->
                  <div class="md:col-span-2 flex flex-col">
                    <!-- 结果卡片 -->
                    <div class="bg-white rounded-2xl p-6 card-shadow mb-6 flex-grow">
                      <h2 class="text-xl font-semibold mb-5 flex items-center">
                        <i class="fa fa-bar-chart text-accent mr-2"></i>计算结果
                      </h2>
                      
                      <div id="result-container" class="space-y-6">
                        <!-- 初始提示 -->
                        <div id="initial-message" class="text-center text-gray-500 py-10">
                          <p>请输入原价和其他参数并点击计算按钮</p>
                        </div>
                        
                        <!-- 结果内容（默认隐藏） -->
                        <div id="result-content" class="hidden space-y-5">
                          <!-- 毛利率 -->
                          <div class="p-4 bg-neutral rounded-xl">
                            <div class="text-sm text-gray-500 mb-1">毛利率</div>
                            <div class="text-2xl font-bold text-primary" id="gross-margin">-</div>
                          </div>
                          
                          <!-- 保本ROI -->
                          <div class="p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-xl border border-green-100">
                            <div class="text-sm text-gray-500 mb-1">保本ROI</div>
                            <div class="text-3xl font-bold text-secondary" id="break-even-roi">-</div>
                            <div class="text-xs text-gray-500 mt-2">
                              实际ROI需≥此数值才能保本
                            </div>
                          </div>
                          
                          <!-- 说明文字 -->
                          <div class="text-sm text-gray-600 bg-blue-50 p-3 rounded-lg border border-blue-100">
                            <p>例如：投入100元广告费，至少需要带来 <span id="example-sales" class="font-semibold text-primary">-</span> 元销售额才能保本</p>
                          </div>
                        </div>
                      </div>
                    </div>
                    
                    <!-- 公式说明卡片 -->
                    <div class="bg-white rounded-2xl p-5 card-shadow text-sm">
                      <h3 class="font-medium mb-3 text-gray-700">倍率规则</h3>
                      <ul class="list-disc pl-5 space-y-1 text-gray-600 mb-4">
                        <li>价格0-20：5.5倍</li>
                        <li>价格21-34：5倍</li>
                        <li>价格35-45：4.5倍</li>
                        <li>价格46-55：4.3倍</li>
                        <li>价格56-65：4倍</li>
                        <li>价格66-100：3.8倍</li>
                        <li>价格101以上：3.5倍</li>
                      </ul>
                      <h3 class="font-medium mb-2 text-gray-700">计算公式</h3>
                      <div class="bg-neutral p-3 rounded-lg font-mono text-gray-800 text-xs">
                        产品售价 = 原价 × 折扣率<br>
                        保本ROI = 1 / [毛利率 × (1 - 退货率) × (1 - 平台手续费率)]
                      </div>
                    </div>
                  </div>
                </main>
                
                <!-- 底部说明 -->
                <footer class="mt-12 text-center text-gray-500 text-sm">
                  <p>投流保本ROI计算器 &copy; 2023 | 帮助您精准计算营销盈亏平衡点</p>
                </footer>
              </div>
              
              <!-- JavaScript -->
              <script>
                // 获取DOM元素
                const form = document.getElementById('roi-calculator');
                const originalPriceInput = document.getElementById('original-price');
                const multiplierInput = document.getElementById('multiplier');
                const purchasePriceInput = document.getElementById('purchase-price');
                const discountInput = document.getElementById('discount');
                const sellingPriceInput = document.getElementById('selling-price');
                const initialMessage = document.getElementById('initial-message');
                const resultContent = document.getElementById('result-content');
                const grossMarginEl = document.getElementById('gross-margin');
                const breakEvenRoiEl = document.getElementById('break-even-roi');
                const exampleSalesEl = document.getElementById('example-sales');
                
                // 倍率规则配置
                const multiplierRules = [
                  { min: 0, max: 20, multiplier: 5.5 },
                  { min: 21, max: 34, multiplier: 5 },
                  { min: 35, max: 45, multiplier: 4.5 },
                  { min: 46, max: 55, multiplier: 4.3 },
                  { min: 56, max: 65, multiplier: 4 },
                  { min: 66, max: 100, multiplier: 3.8 },
                  { min: 101, max: Infinity, multiplier: 3.5 }
                ];
                
                // 根据原价计算正确的倍率
                function calculateMultiplier(originalPrice) {
                  for (const rule of multiplierRules) {
                    const price = originalPrice / rule.multiplier;
                    if (price >= rule.min && price <= rule.max) {
                      return rule.multiplier;
                    }
                  }
                  return multiplierRules[multiplierRules.length - 1].multiplier;
                }
                
                // 计算产品售价（原价×折扣）
                function calculateSellingPrice() {
                  const originalPrice = parseFloat(originalPriceInput.value) || 0;
                  const discount = parseFloat(discountInput.value) || 0;
                  
                  if (originalPrice > 0 && discount > 0) {
                    const sellingPrice = originalPrice * (discount / 100);
                    sellingPriceInput.value = sellingPrice.toFixed(2);
                    return sellingPrice;
                  } else {
                    sellingPriceInput.value = '';
                    return 0;
                  }
                }
                
                // 当原价变化时自动计算倍率、采购价和产品售价
                originalPriceInput.addEventListener('input', function() {
                  const originalPrice = parseFloat(this.value) || 0;
                  
                  if (originalPrice > 0) {
                    const multiplier = calculateMultiplier(originalPrice);
                    const purchasePrice = originalPrice / multiplier;
                    
                    multiplierInput.value = multiplier.toFixed(1);
                    purchasePriceInput.value = purchasePrice.toFixed(2);
                  } else {
                    multiplierInput.value = '';
                    purchasePriceInput.value = '';
                  }
                  
                  // 重新计算售价
                  calculateSellingPrice();
                });
                
                // 当折扣变化时自动计算产品售价
                discountInput.addEventListener('input', calculateSellingPrice);
                
                // 表单提交处理
                form.addEventListener('submit', function(e) {
                  e.preventDefault();
                  
                  // 获取输入值
                  const originalPrice = parseFloat(originalPriceInput.value) || 0;
                  const purchasePrice = parseFloat(purchasePriceInput.value) || 0;
                  const sellingPrice = parseFloat(sellingPriceInput.value) || 0;
                  const returnRate = parseFloat(document.getElementById('return-rate').value) / 100 || 0;
                  const feeRate = parseFloat(document.getElementById('fee-rate').value) / 100 || 0;
                  
                  // 验证输入
                  if (originalPrice <= 0) {
                    alert('请输入有效的原价');
                    return;
                  }
                  
                  if (sellingPrice <= purchasePrice) {
                    alert('产品售价必须大于采购价');
                    return;
                  }
                  
                  // 计算毛利率 (基于售价和采购价)
                  const grossMargin = (sellingPrice - purchasePrice) / sellingPrice;
                  
                  // 计算保本ROI
                  const breakEvenROI = 1 / (grossMargin * (1 - returnRate) * (1 - feeRate));
                  
                  // 计算示例销售额
                  const exampleSales = 100 * breakEvenROI;
                  
                  // 显示结果
                  initialMessage.classList.add('hidden');
                  resultContent.classList.remove('hidden');
                  
                  // 填充结果（保留两位小数）
                  grossMarginEl.textContent = (grossMargin * 100).toFixed(2) + '%';
                  breakEvenRoiEl.textContent = breakEvenROI.toFixed(2);
                  exampleSalesEl.textContent = exampleSales.toFixed(2);
                  
                  // 添加结果动画效果
                  breakEvenRoiEl.classList.add('animate-pulse');
                  setTimeout(() => {
                    breakEvenRoiEl.classList.remove('animate-pulse');
                  }, 1000);
                });
                
                // 输入框实时验证
                const inputs = form.querySelectorAll('input');
                inputs.forEach(input => {
                  input.addEventListener('input', function() {
                    // 确保售价大于采购价
                    if (['discount', 'original-price'].includes(this.id)) {
                      const purchasePrice = parseFloat(purchasePriceInput.value) || 0;
                      const sellingPrice = parseFloat(sellingPriceInput.value) || 0;
                      
                      if (sellingPrice <= purchasePrice && sellingPrice > 0 && purchasePrice > 0) {
                        sellingPriceInput.classList.add('border-red-500');
                      } else {
                        sellingPriceInput.classList.remove('border-red-500');
                      }
                    }
                  });
                });
              </script>
            </body>
            </html>

                List.remove('border-red-500');
          }
        }
      });
    });
  </script>
</body>
</html>

    